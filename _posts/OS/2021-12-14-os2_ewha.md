---
layout: single
title: "운영체제 2장: 시스템 구조와 실행 구조 (정리)"
excerpt: "본 글은 (KOCW) 운영체제, 이화여자대학교 반효경 교수님의 강의를 듣고 개인 공부에 목적으로 내용을 요약 및 정리했습니다. <br> 또한 주니온 박사님의 운영체제 공룡책 강의를 듣고 내용을 보충했습니다."
categories: OS
tags: [OS, 운영체제, 동시 작업, 처리 방식, mode bit, timer, 컨트롤러, 시스템 콜, 입출력, 인터럽트, 동기, 비동기, DMA, 메모리, 커널, 사용자 프로그램, synchronous, asynchronous, io, pdf, 정리]
toc: true
toc_sticky: true
sidebar_main: false

last_modified_at: 2022-06-19
---

본 글은 (KOCW) 운영체제(반효경) 및 공룡책 강의를 토대로 시스템 구조와 프로그램 실행 메커니즘을 핵심 위주로 재정리한 노트이다.
{: .notice--info}

![image](https://user-images.githubusercontent.com/78655692/147717027-fcfaf167-79a5-4ce2-8d43-0801ef2df945.png)
![image](https://user-images.githubusercontent.com/78655692/158063378-b6937f70-2b74-4afb-8103-1fe278a3c340.png)


---

## 1. 기본 하드웨어/소프트웨어 층

CPU, 메모리, 입출력 장치 위에 커널이 위치하고 그 위에 사용자 프로세스가 올라간다. 커널은 보호 모드(특권 모드)에서 동작하며 사용자 모드 코드보다 더 많은 명령(특권명령)을 수행한다.

## 2. 보호 메커니즘

| 요소 | 역할 | 핵심 포인트 |
|------|------|-------------|
| Mode bit | 사용자/커널 모드 구분 | 시스템 콜/인터럽트 진입 시 커널 모드 전환 |
| Timer | 선점 제어 | 무한 루프/독점 방지 위해 타이머 인터럽트 발생 |
| Interrupt vector | 핸들러 주소 표 | 인터럽트/예외별 서비스 루틴 진입점 |
| Device controller | 장치별 펌웨어 | 상태/제어 레지스터 + 로컬버퍼, 완료 시 인터럽트 |
| Device driver | OS내 소프트웨어 모듈 | 상위 추상화 제공, 하위 controller와 연계 |

## 3. 시스템 콜과 인터럽트 흐름

사용자 프로세스가 파일 I/O 등 커널 서비스를 요청하면 시스템 콜 트랩 -> 커널 모드 전환 -> 유효성 확인 -> 서비스 수행 -> 반환. 하드웨어/장치 완료나 외부 이벤트는 인터럽트로 비동기 통지한다. Trap은 소프트웨어 인터럽트(예외/시스템콜) 포함 개념이다.

## 4. 동기 I/O vs 비동기 I/O

| 구분 | 동기(synchronous) | 비동기(asynchronous) |
|------|------------------|----------------------|
| 제어 반환 | 완료 후 | 즉시 |
| CPU 활용 | 단순 구현 시 낭비 가능 | 다른 작업과 겹침 |
| 구현 | 블록/대기 큐 필요 | 완료 인터럽트 콜백 |

두 경우 모두 실제 완료 알림은 인터럽트 기반이다.

## 5. DMA(Direct Memory Access)

빈번한 장치 I/O에 대해 CPU 개입 없이 블록 단위 메모리 전송을 수행해 인터럽트 수를 줄이고 처리량을 높인다.

## 6. I/O 명령 방식

1) 특수 I/O 명령 포트 접근 2) Memory-mapped I/O (장치 레지스터를 메모리 주소 공간에 매핑). 현대 일반적 방식은 memory-mapped I/O이다.

## 7. 저장장치 계층 요약

Register → Cache → Main Memory → SSD/HDD → Optical/Tape 순으로 속도↓, 용량↑, 비용/비트↓, 비휘발성↑ (아래로 갈수록). 자주 사용하는 데이터는 상위 계층에 캐싱한다.

## 8. 실행 파일이 프로세스가 되기까지

1) 실행 파일이 로더에 의해 가상 주소 공간 생성
2) 코드/데이터 초기 맵핑
3) 필요 페이지를 수요 시 페이지 폴트로 적재 (Demand Paging)
4) 프로세스 구조: Text, Data, Heap(동적), Stack(호출 프레임)
5) 메모리 부족 시 일부 페이지 Swap 영역으로 교체

## 9. 커널/사용자 함수 유형

- 사용자 정의 함수
- 라이브러리 함수 (실행 파일에 포함되거나 동적 링크)
- 커널 함수 (시스템 콜 인터페이스 통해 호출)

## 10. 핵심 요약

시스템 보호는 모드 구분 + 인터럽트 벡터 + 타이머 + 주소 공간 분리로 달성한다. I/O 경로는 사용자 -> 시스템콜 -> 드라이버 -> 컨트롤러 -> 장치 순이며, 완료는 인터럽트 혹은 DMA 통지로 처리한다.

---

필요 없는 반복 서술과 잦은 줄바꿈을 제거하고 표 기반 핵심 구조로 재정리했다. 추가로 더 깊이 다룰 주제가 있으면 알려주기 바란다.

